{% assign current_lang = page.lang | default: 'en' %}
{% assign animation_index = include.index | default: 0 %}
{% assign project_locale = include.project.locales[current_lang] | default: include.project.locales.en %}
{% assign project_url = project_locale.url %}
{% assign animations_disabled = include.disable_animation | default: false %}

{% if animations_disabled %}
  {% assign article_classes = "card project-card" %}
{% else %}
  {% assign animation_delay = animation_index | times: 140 | plus: 60 %}
  {% assign article_classes = "card project-card animate-fade-up" %}
{% endif %}

<article class="{{ article_classes }}" data-category="{{ include.project.category }}"{% unless animations_disabled %} style="--animate-delay: {{ animation_delay }}ms"{% endunless %}>
  <a href="{{ project_url | relative_url }}" class="project-link" aria-label="{{ project_locale.aria_label }}">
    <!-- Project Image -->
    <div class="project-card-image">
      <img
        src="{{ include.project.image_src | relative_url }}" 
        alt="{{ project_locale.image_alt }}"
        loading="lazy"
        width="400"
        height="400">
    </div>
    <!-- Project Content -->
    <div class="project-card-content">
      <div class="project-card-header">
        <h3 class="project-card-title">{{ project_locale.title }}</h3>

        {% if include.project.client %}
          <p class="project-card-client"><strong>{{ include.project.client[current_lang] }}</strong></p>
        {% endif %}
      </div>
      <div class="project-card-footer">
        <p class="project-card-description">{{ project_locale.pitch | markdownify | remove: '<p>' | remove: '</p>' }}</p>
      </div>
    </div>
  </a>
</article>
